#==============================================================================
# Author: Gunther PippFrr ( http://www.pipperr.de )
# Desc:   generic Backup Script for file backups
# Date:   01.September 2012
# Site:   http://orapowershell.codeplex.com
#==============================================================================

=================  Ora PowerShell Library =====================================


#### Security:   ####

(see http://www.pipperr.de/dokuwiki/doku.php?id=windows:powershell_script_aufrufen )

  To switch it off (as administrator)
  
  get-Executionpolicy -list
  set-ExecutionPolicy -scope CurrentUser RemoteSigned

BETTER => 	Sign your code!
	
	Manually:
	Set-AuthenticodeSignature <my_filename> @(Get-ChildItem cert:\CurrentUser\My -codesigning)[0]
	
	With a Script:
	use the helper script certScripts.ps1
  
 
 
### Configuration ####

#Oracle Backup

To configure the Oracle Backup copy the file conf/backup_config_template.xml to conf/backup_config.xml and edit the file

#VSS and File Backup

To configure the File Backup copy the file conf/backup_file_config_template.xml to conf/backup_file_config.xml and edit the file

#cmdlet to configure the enviroment

To configure the setdb enviroment copy the file conf/oracle_homes_template.xml to conf/oracle_homes.xml and edit the file

#Satus E-Mail configuration

To configure the mail server copy the the conf/mail_config_template.xml to conf/mail_config.xml and edit the file

#Search Pattern
To configure the search pattern you can adust the file search_pattern.xml

***** Script Overview *****


Directory structure:

. 			=> All main Scripts
.\cert		=> Folder for your certificate - default empty
.\conf		=> xml configuratoin
.\doc		=> dokumention of the configuration parameters
.\generated	=> folder for auto generated scrips - in the begin empty
.\lib		=> the function library for the main scripts
.\log		=> all autogenerated logs
.\sql		=> Sql Script ( sql*pus use the folder if you use setdb via SQLPATH )
.\test		=> some testcases for development


Main Scripts

setdb.psm1				=> the shell function to set the  Oracle enviroment to work with different Oracle homes
--
runOracleBackup.ps1		=> default : Backup the complete all databases configured in the ./conf/backup_config.xml
							if called with the parameter ARCHIVE only the archivelogs are backuped

runSimpleFileBackup.ps1	=> Copy Files from one or more locations to the backup folder , configured in the ./conf/backup_file_config.xml

runVssFileBackup.ps1	=> Copy Files from a backup VSS drive to the backup folder , configured in the ./conf/backup_file_config.xml

--

cleanLogfiles11g.ps1	=> Clean the logfiles of a oracle 11g instance

--

certScripts.ps1			=> Helper Script to create certificates and the global security settings like the MD5 Hash testfile

--





